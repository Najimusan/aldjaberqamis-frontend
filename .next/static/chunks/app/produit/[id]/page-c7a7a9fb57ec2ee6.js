(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{6140:function(e,s,t){Promise.resolve().then(t.bind(t,8834))},8834:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return page}});var a=t(7437),l=t(2265),i=t(5251),r=t(4033),n=t(5340),c=t(9764),d=t(1961),o=t(9036),h=t(5432),x=t(9503),m=t(8676),u=t(2167),p=t(1094),g=t(5817),j=t(2549),b=t(1291),v=t(7158),f=t(6691),w=t.n(f),N=t(5123),y=t(9843),components_ProductImageViewer=e=>{let{images:s,productName:t,className:r=""}=e,[n,d]=(0,l.useState)(null),[o,h]=(0,l.useState)(0),[x,m]=(0,l.useState)(new Set);if((0,l.useEffect)(()=>{let handleKeyDown=e=>{if(null!==n)switch(e.key){case"Escape":d(null);break;case"ArrowLeft":e.preventDefault(),h(e=>(e-1+s.length)%s.length);break;case"ArrowRight":e.preventDefault(),h(e=>(e+1)%s.length)}};return null!==n&&(document.addEventListener("keydown",handleKeyDown),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",handleKeyDown),document.body.style.overflow="unset"}},[n,s.length]),!s||0===s.length)return(0,a.jsx)("div",{className:"bg-gray-100 rounded-lg flex items-center justify-center ".concat(r),children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,a.jsx)(p.Z,{className:"w-8 h-8"})}),(0,a.jsx)("p",{className:"text-sm",children:"Aucune image disponible"})]})});let openModal=e=>{d(e),h(e)},closeModal=()=>{d(null)},shareImage=async()=>{if(navigator.share)try{await navigator.share({title:t,text:"D\xe9couvrez ce produit: ".concat(t),url:window.location.href})}catch(e){console.log("Erreur lors du partage:",e)}else navigator.clipboard.writeText(window.location.href),alert("Lien copi\xe9 dans le presse-papiers!")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-4 ".concat(r),children:[(0,a.jsx)("div",{className:"relative group",children:(0,a.jsxs)(i.E.div,{whileHover:{scale:1.02},className:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden cursor-pointer shadow-lg",onClick:()=>openModal(0),children:[x.has(0)?(0,a.jsx)(N.Z,{width:400,height:400,className:"w-full h-full",text:t}):(0,a.jsx)(w(),{src:(0,y.Jn)(s[0]),alt:t,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500",priority:!0,onError:()=>m(e=>new Set(e).add(0)),unoptimized:!0}),(0,a.jsx)(i.E.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3",children:(0,a.jsx)(p.Z,{className:"w-6 h-6 text-gray-800"})})}),s.length>1&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm text-gray-800 text-xs px-3 py-1 rounded-full font-medium",children:["+",s.length-1," photos"]}),(0,a.jsx)("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm text-gray-800 text-xs px-2 py-1 rounded-full",children:"Cliquez pour agrandir"})]})}),s.length>1&&(0,a.jsx)("div",{className:"grid grid-cols-4 gap-3",children:s.slice(1,5).map((e,l)=>(0,a.jsxs)(i.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer shadow-md",onClick:()=>openModal(l+1),children:[x.has(l+1)?(0,a.jsx)(N.Z,{width:100,height:100,className:"w-full h-full",text:"".concat(l+2)}):(0,a.jsx)(w(),{src:(0,y.Jn)(e),alt:"".concat(t," ").concat(l+2),fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300",onError:()=>m(e=>new Set(e).add(l+1)),unoptimized:!0}),3===l&&s.length>5&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white text-sm font-medium",children:["+",s.length-5]})})]},l+1))})]}),(0,a.jsx)(u.M,{children:null!==n&&(0,a.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:closeModal,children:(0,a.jsxs)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-6xl max-h-full w-full",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:t}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[o+1," / ",s.length]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:shareImage,className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors",title:"Partager",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>{let e=document.createElement("a");e.href=s[o],e.download="".concat(t,"-").concat(o+1,".jpg"),e.target="_blank",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors",title:"T\xe9l\xe9charger",children:(0,a.jsx)(g.Z,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:closeModal,className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors",title:"Fermer",children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})})]})]})}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center min-h-[60vh]",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative max-w-full max-h-full",children:x.has(o)?(0,a.jsx)(N.Z,{width:800,height:600,className:"max-w-full max-h-[70vh] rounded-lg shadow-2xl",text:t}):(0,a.jsx)(w(),{src:(0,y.Jn)(s[o]),alt:"".concat(t," ").concat(o+1),width:800,height:600,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-2xl",onError:()=>m(e=>new Set(e).add(o)),unoptimized:!0})},o),s.length>1&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{h(e=>(e-1+s.length)%s.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-3 rounded-full hover:bg-white/30 transition-all duration-300 group",title:"Image pr\xe9c\xe9dente",children:(0,a.jsx)(b.Z,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),(0,a.jsx)("button",{onClick:()=>{h(e=>(e+1)%s.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-3 rounded-full hover:bg-white/30 transition-all duration-300 group",title:"Image suivante",children:(0,a.jsx)(v.Z,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})})]})]}),s.length>1&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:(0,a.jsx)("div",{className:"flex justify-center space-x-2 overflow-x-auto pb-2",children:s.map((e,s)=>(0,a.jsx)("button",{onClick:()=>h(s),className:"w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-300 flex-shrink-0 ".concat(s===o?"border-white scale-110":"border-white/30 hover:border-white/60 hover:scale-105"),children:x.has(s)?(0,a.jsx)(N.Z,{width:64,height:64,className:"w-full h-full",text:"".concat(s+1)}):(0,a.jsx)(w(),{src:(0,y.Jn)(e),alt:"".concat(t," ").concat(s+1),width:64,height:64,className:"w-full h-full object-cover",onError:()=>m(e=>new Set(e).add(s)),unoptimized:!0})},s))})}),(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/60 text-sm",children:(0,a.jsx)("p",{children:"Utilisez les fl\xe8ches du clavier ou les boutons pour naviguer"})})]})})})]})},k=t(1628),E=t(7087),C=t(5925),page=()=>{let e=(0,r.useParams)(),{addToCart:s}=(0,E.useCart)(),[t,u]=(0,l.useState)(null),[p,g]=(0,l.useState)(!0),[j,b]=(0,l.useState)(""),[v,f]=(0,l.useState)(""),[w,N]=(0,l.useState)(1);(0,l.useEffect)(()=>{let fetchProduct=async()=>{try{var s,t;g(!0);let a=await y.fi.getById(e.id);u(a),b(a.sizes[0]||"");let l=Array.isArray(a.colors)&&a.colors.length>0?"string"==typeof a.colors[0]?String(a.colors[0]):(null===(s=a.colors[0])||void 0===s?void 0:s.name)||(null===(t=a.colors[0])||void 0===t?void 0:t.hex)||"":"";f(l)}catch(e){console.error("Erreur lors du chargement du produit:",e),C.default.error("Produit non trouv\xe9")}finally{g(!1)}};e.id&&fetchProduct()},[e.id]);let handleShare=async()=>{if(navigator.share)try{await navigator.share({title:null==t?void 0:t.name,text:null==t?void 0:t.description,url:window.location.href})}catch(e){console.log("Erreur lors du partage:",e)}else navigator.clipboard.writeText(window.location.href),C.default.success("Lien copi\xe9 dans le presse-papiers")};return p?(0,a.jsxs)("div",{className:"min-h-screen bg-dark-950",children:[(0,a.jsx)(x.Z,{}),(0,a.jsx)("main",{className:"pt-16",children:(0,a.jsx)("div",{className:"container-custom section-padding py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"w-full h-96 bg-dark-800 rounded-xl animate-pulse"}),(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"w-full h-20 bg-dark-800 rounded-lg animate-pulse"},s))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"h-8 bg-dark-800 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-6 bg-dark-800 rounded w-3/4 animate-pulse"}),(0,a.jsx)("div",{className:"h-12 bg-dark-800 rounded w-1/2 animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("div",{className:"h-4 bg-dark-800 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-dark-800 rounded animate-pulse"}),(0,a.jsx)("div",{className:"h-4 bg-dark-800 rounded w-2/3 animate-pulse"})]})]})]})})}),(0,a.jsx)(m.Z,{})]}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-dark-950",children:[(0,a.jsx)(x.Z,{}),(0,a.jsx)("main",{className:"pt-16",children:(0,a.jsx)("div",{className:"container-custom section-padding py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsx)(i.E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:(0,a.jsx)(components_ProductImageViewer,{images:t.images,productName:t.name,className:"w-full"})}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-dark-400 text-sm font-medium uppercase tracking-wide",children:t.category}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:handleShare,className:"p-2 text-dark-400 hover:text-white transition-colors duration-300",children:(0,a.jsx)(c.Z,{size:24})})})]}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-4",children:t.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-3xl font-bold text-white",children:(0,k.T4)(t.price)}),t.stock>0&&(0,a.jsxs)("span",{className:"text-dark-400",children:[t.stock," en stock"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Description"}),(0,a.jsx)("p",{className:"text-dark-300 leading-relaxed",children:t.description})]}),t.sizes.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Taille"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.sizes.map(e=>(0,a.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(e),className:"px-4 py-2 rounded-lg border-2 transition-all duration-300 ".concat(j===e?"bg-white text-dark-950 border-white":"bg-transparent text-white border-dark-600 hover:border-dark-400"),children:e},e))})]}),t.colors.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Couleur"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.colors.map(e=>{let s="string"==typeof e?e:(null==e?void 0:e.name)||(null==e?void 0:e.hex)||"",t="string"==typeof e?void 0:null==e?void 0:e.hex,l=v===s||!!t&&v===t;return(0,a.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>f(s||t||""),className:"px-4 py-2 rounded-lg border-2 transition-all duration-300 ".concat(l?"bg-white text-dark-950 border-white":"bg-transparent text-white border-dark-600 hover:border-dark-400"),title:s,children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[t?(0,a.jsx)("span",{"aria-hidden":!0,className:"inline-block w-3 h-3 rounded-full border border-dark-600",style:{backgroundColor:t}}):null,s]})},t||s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-3",children:"Quantit\xe9"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-dark-600 rounded-lg",children:[(0,a.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>N(Math.max(1,w-1)),className:"p-2 text-white hover:text-dark-300 transition-colors duration-300",children:"-"}),(0,a.jsx)("span",{className:"px-4 py-2 text-white font-medium",children:w}),(0,a.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>N(Math.min(t.stock,w+1)),className:"p-2 text-white hover:text-dark-300 transition-colors duration-300",children:"+"})]}),(0,a.jsxs)("span",{className:"text-dark-400 text-sm",children:["Max: ",t.stock]})]})]}),(0,a.jsx)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{if(t){if(!j||!v){C.default.error("Veuillez s\xe9lectionner une taille et une couleur");return}s(t,w,j,v),C.default.success("Produit ajout\xe9 au panier")}},disabled:0===t.stock||!j||!v,className:"w-full btn-primary text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed",children:0===t.stock?"Rupture de stock":"Ajouter au panier"}),t.features&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Caract\xe9ristiques"}),(0,a.jsxs)("div",{className:"space-y-2",children:[t.features.material&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-dark-300",children:"Mati\xe8re:"}),(0,a.jsx)("span",{className:"text-white",children:t.features.material})]}),t.features.care&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-dark-300",children:"Entretien:"}),(0,a.jsx)("span",{className:"text-white",children:t.features.care})]}),t.features.origin&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-dark-300",children:"Origine:"}),(0,a.jsx)("span",{className:"text-white",children:t.features.origin})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-dark-800",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.Z,{className:"mx-auto mb-2 text-white",size:24}),(0,a.jsx)("p",{className:"text-sm text-dark-300",children:"Livraison gratuite"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.Z,{className:"mx-auto mb-2 text-white",size:24}),(0,a.jsx)("p",{className:"text-sm text-dark-300",children:"Garantie qualit\xe9"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h.Z,{className:"mx-auto mb-2 text-white",size:24}),(0,a.jsx)("p",{className:"text-sm text-dark-300",children:"Retours faciles"})]})]})]})]})})}),(0,a.jsx)(m.Z,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-dark-950",children:[(0,a.jsx)(x.Z,{}),(0,a.jsx)("main",{className:"pt-16",children:(0,a.jsxs)("div",{className:"container-custom section-padding py-12 text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-dark-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(n.Z,{size:48,className:"text-dark-400"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Produit non trouv\xe9"}),(0,a.jsx)("p",{className:"text-dark-300 mb-6",children:"Le produit que vous recherchez n'existe pas ou a \xe9t\xe9 supprim\xe9."}),(0,a.jsx)("a",{href:"/catalogue",className:"btn-primary",children:"Retour au catalogue"})]})}),(0,a.jsx)(m.Z,{})]})}},5123:function(e,s,t){"use strict";var a=t(7437);t(2265),s.Z=e=>{let{width:s=400,height:t=400,className:l="",text:i="Produit"}=e;return(0,a.jsx)("div",{className:"bg-gray-200 flex items-center justify-center text-gray-500 ".concat(l),style:{width:s,height:t},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-2 bg-gray-300 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})})}),(0,a.jsx)("p",{className:"text-sm font-medium",children:i})]})})}}},function(e){e.O(0,[581,829,7,561,871,656,971,472,744],function(){return e(e.s=6140)}),_N_E=e.O()}]);