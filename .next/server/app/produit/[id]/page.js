(()=>{var e={};e.id=740,e.ids=[740],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},3799:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>c});var a=t(7096),r=t(6132),i=t(7284),l=t.n(i),n=t(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["produit",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8656)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\produit\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,3304)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\produit\\[id]\\page.tsx"],x="/produit/[id]/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/produit/[id]/page",pathname:"/produit/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1956:(e,s,t)=>{Promise.resolve().then(t.bind(t,8223))},8223:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>page});var a=t(784),r=t(9885),i=t(4571),l=t(7114),n=t(7932),o=t(6386),c=t(3303),d=t(4901),x=t(1063),h=t(2316),u=t(8863),m=t(569),p=t(6954),g=t(5574),j=t(6206),b=t(1910),f=t(1922),v=t(2451),w=t.n(v),N=t(5990),y=t(9576);let components_ProductImageViewer=({images:e,productName:s,className:t=""})=>{let[l,n]=(0,r.useState)(null),[c,d]=(0,r.useState)(0),[x,h]=(0,r.useState)(new Set);if((0,r.useEffect)(()=>{let handleKeyDown=s=>{if(null!==l)switch(s.key){case"Escape":n(null);break;case"ArrowLeft":s.preventDefault(),d(s=>(s-1+e.length)%e.length);break;case"ArrowRight":s.preventDefault(),d(s=>(s+1)%e.length)}};return null!==l&&(document.addEventListener("keydown",handleKeyDown),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",handleKeyDown),document.body.style.overflow="unset"}},[l,e.length]),!e||0===e.length)return a.jsx("div",{className:`bg-gray-100 rounded-lg flex items-center justify-center ${t}`,children:(0,a.jsxs)("div",{className:"text-center text-gray-500",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-2",children:a.jsx(p.Z,{className:"w-8 h-8"})}),a.jsx("p",{className:"text-sm",children:"Aucune image disponible"})]})});let openModal=e=>{n(e),d(e)},closeModal=()=>{n(null)},shareImage=async()=>{if(navigator.share)try{await navigator.share({title:s,text:`D\xe9couvrez ce produit: ${s}`,url:window.location.href})}catch(e){console.log("Erreur lors du partage:",e)}else navigator.clipboard.writeText(window.location.href),alert("Lien copi\xe9 dans le presse-papiers!")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:`space-y-4 ${t}`,children:[a.jsx("div",{className:"relative group",children:(0,a.jsxs)(i.E.div,{whileHover:{scale:1.02},className:"relative aspect-square bg-gray-100 rounded-xl overflow-hidden cursor-pointer shadow-lg",onClick:()=>openModal(0),children:[x.has(0)?a.jsx(N.Z,{width:400,height:400,className:"w-full h-full",text:s}):a.jsx(w(),{src:(0,y.Jn)(e[0]),alt:s,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500",priority:!0,onError:()=>h(e=>new Set(e).add(0)),unoptimized:!0}),a.jsx(i.E.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-black/40 flex items-center justify-center",children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3",children:a.jsx(p.Z,{className:"w-6 h-6 text-gray-800"})})}),e.length>1&&(0,a.jsxs)("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm text-gray-800 text-xs px-3 py-1 rounded-full font-medium",children:["+",e.length-1," photos"]}),a.jsx("div",{className:"absolute bottom-4 left-4 bg-white/90 backdrop-blur-sm text-gray-800 text-xs px-2 py-1 rounded-full",children:"Cliquez pour agrandir"})]})}),e.length>1&&a.jsx("div",{className:"grid grid-cols-4 gap-3",children:e.slice(1,5).map((t,r)=>(0,a.jsxs)(i.E.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden cursor-pointer shadow-md",onClick:()=>openModal(r+1),children:[x.has(r+1)?a.jsx(N.Z,{width:100,height:100,className:"w-full h-full",text:`${r+2}`}):a.jsx(w(),{src:(0,y.Jn)(t),alt:`${s} ${r+2}`,fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300",onError:()=>h(e=>new Set(e).add(r+1)),unoptimized:!0}),3===r&&e.length>5&&a.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-white text-sm font-medium",children:["+",e.length-5]})})]},r+1))})]}),a.jsx(m.M,{children:null!==l&&a.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 z-50 flex items-center justify-center p-4",onClick:closeModal,children:(0,a.jsxs)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-6xl max-h-full w-full",onClick:e=>e.stopPropagation(),children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-white",children:[a.jsx("h3",{className:"text-lg font-semibold",children:s}),(0,a.jsxs)("p",{className:"text-sm text-gray-300",children:[c+1," / ",e.length]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("button",{onClick:shareImage,className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors",title:"Partager",children:a.jsx(o.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>{let t=document.createElement("a");t.href=e[c],t.download=`${s}-${c+1}.jpg`,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors",title:"T\xe9l\xe9charger",children:a.jsx(g.Z,{className:"w-5 h-5"})}),a.jsx("button",{onClick:closeModal,className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-colors",title:"Fermer",children:a.jsx(j.Z,{className:"w-5 h-5"})})]})]})}),(0,a.jsxs)("div",{className:"relative flex items-center justify-center min-h-[60vh]",children:[a.jsx(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative max-w-full max-h-full",children:x.has(c)?a.jsx(N.Z,{width:800,height:600,className:"max-w-full max-h-[70vh] rounded-lg shadow-2xl",text:s}):a.jsx(w(),{src:(0,y.Jn)(e[c]),alt:`${s} ${c+1}`,width:800,height:600,className:"max-w-full max-h-[70vh] object-contain rounded-lg shadow-2xl",onError:()=>h(e=>new Set(e).add(c)),unoptimized:!0})},c),e.length>1&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>{d(s=>(s-1+e.length)%e.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-3 rounded-full hover:bg-white/30 transition-all duration-300 group",title:"Image pr\xe9c\xe9dente",children:a.jsx(b.Z,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})}),a.jsx("button",{onClick:()=>{d(s=>(s+1)%e.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur-sm text-white p-3 rounded-full hover:bg-white/30 transition-all duration-300 group",title:"Image suivante",children:a.jsx(f.Z,{className:"w-6 h-6 group-hover:scale-110 transition-transform"})})]})]}),e.length>1&&a.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-4",children:a.jsx("div",{className:"flex justify-center space-x-2 overflow-x-auto pb-2",children:e.map((e,t)=>a.jsx("button",{onClick:()=>d(t),className:`w-16 h-16 rounded-lg overflow-hidden border-2 transition-all duration-300 flex-shrink-0 ${t===c?"border-white scale-110":"border-white/30 hover:border-white/60 hover:scale-105"}`,children:x.has(t)?a.jsx(N.Z,{width:64,height:64,className:"w-full h-full",text:`${t+1}`}):a.jsx(w(),{src:(0,y.Jn)(e),alt:`${s} ${t+1}`,width:64,height:64,className:"w-full h-full object-cover",onError:()=>h(e=>new Set(e).add(t)),unoptimized:!0})},t))})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-white/60 text-sm",children:a.jsx("p",{children:"Utilisez les fl\xe8ches du clavier ou les boutons pour naviguer"})})]})})})]})};var k=t(8699),q=t(1251),E=t(345);let page=()=>{let e=(0,l.useParams)(),{addToCart:s}=(0,q.useCart)(),[t,m]=(0,r.useState)(null),[p,g]=(0,r.useState)(!0),[j,b]=(0,r.useState)(""),[f,v]=(0,r.useState)(""),[w,N]=(0,r.useState)(1);(0,r.useEffect)(()=>{let fetchProduct=async()=>{try{g(!0);let s=await y.fi.getById(e.id);m(s),b(s.sizes[0]||"");let t=Array.isArray(s.colors)&&s.colors.length>0?"string"==typeof s.colors[0]?String(s.colors[0]):s.colors[0]?.name||s.colors[0]?.hex||"":"";v(t)}catch(e){console.error("Erreur lors du chargement du produit:",e),E.default.error("Produit non trouv\xe9")}finally{g(!1)}};e.id&&fetchProduct()},[e.id]);let handleShare=async()=>{if(navigator.share)try{await navigator.share({title:t?.name,text:t?.description,url:window.location.href})}catch(e){console.log("Erreur lors du partage:",e)}else navigator.clipboard.writeText(window.location.href),E.default.success("Lien copi\xe9 dans le presse-papiers")};return p?(0,a.jsxs)("div",{className:"min-h-screen bg-dark-950",children:[a.jsx(h.Z,{}),a.jsx("main",{className:"pt-16",children:a.jsx("div",{className:"container-custom section-padding py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-full h-96 bg-dark-800 rounded-xl animate-pulse"}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>a.jsx("div",{className:"w-full h-20 bg-dark-800 rounded-lg animate-pulse"},s))})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"h-8 bg-dark-800 rounded animate-pulse"}),a.jsx("div",{className:"h-6 bg-dark-800 rounded w-3/4 animate-pulse"}),a.jsx("div",{className:"h-12 bg-dark-800 rounded w-1/2 animate-pulse"}),(0,a.jsxs)("div",{className:"space-y-3",children:[a.jsx("div",{className:"h-4 bg-dark-800 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-dark-800 rounded animate-pulse"}),a.jsx("div",{className:"h-4 bg-dark-800 rounded w-2/3 animate-pulse"})]})]})]})})}),a.jsx(u.Z,{})]}):t?(0,a.jsxs)("div",{className:"min-h-screen bg-dark-950",children:[a.jsx(h.Z,{}),a.jsx("main",{className:"pt-16",children:a.jsx("div",{className:"container-custom section-padding py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[a.jsx(i.E.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6},children:a.jsx(components_ProductImageViewer,{images:t.images,productName:t.name,className:"w-full"})}),(0,a.jsxs)(i.E.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-dark-400 text-sm font-medium uppercase tracking-wide",children:t.category}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:handleShare,className:"p-2 text-dark-400 hover:text-white transition-colors duration-300",children:a.jsx(o.Z,{size:24})})})]}),a.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:t.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-3xl font-bold text-white",children:(0,k.T4)(t.price)}),t.stock>0&&(0,a.jsxs)("span",{className:"text-dark-400",children:[t.stock," en stock"]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Description"}),a.jsx("p",{className:"text-dark-300 leading-relaxed",children:t.description})]}),t.sizes.length>0&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Taille"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.sizes.map(e=>a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(e),className:`px-4 py-2 rounded-lg border-2 transition-all duration-300 ${j===e?"bg-white text-dark-950 border-white":"bg-transparent text-white border-dark-600 hover:border-dark-400"}`,children:e},e))})]}),t.colors.length>0&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Couleur"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.colors.map(e=>{let s="string"==typeof e?e:e?.name||e?.hex||"",t="string"==typeof e?void 0:e?.hex,r=f===s||!!t&&f===t;return a.jsx(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(s||t||""),className:`px-4 py-2 rounded-lg border-2 transition-all duration-300 ${r?"bg-white text-dark-950 border-white":"bg-transparent text-white border-dark-600 hover:border-dark-400"}`,title:s,children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-2",children:[t?a.jsx("span",{"aria-hidden":!0,className:"inline-block w-3 h-3 rounded-full border border-dark-600",style:{backgroundColor:t}}):null,s]})},t||s)})})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Quantit\xe9"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-dark-600 rounded-lg",children:[a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>N(Math.max(1,w-1)),className:"p-2 text-white hover:text-dark-300 transition-colors duration-300",children:"-"}),a.jsx("span",{className:"px-4 py-2 text-white font-medium",children:w}),a.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>N(Math.min(t.stock,w+1)),className:"p-2 text-white hover:text-dark-300 transition-colors duration-300",children:"+"})]}),(0,a.jsxs)("span",{className:"text-dark-400 text-sm",children:["Max: ",t.stock]})]})]}),a.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{if(t){if(!j||!f){E.default.error("Veuillez s\xe9lectionner une taille et une couleur");return}s(t,w,j,f),E.default.success("Produit ajout\xe9 au panier")}},disabled:0===t.stock||!j||!f,className:"w-full btn-primary text-lg py-4 disabled:opacity-50 disabled:cursor-not-allowed",children:0===t.stock?"Rupture de stock":"Ajouter au panier"}),t.features&&(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Caract\xe9ristiques"}),(0,a.jsxs)("div",{className:"space-y-2",children:[t.features.material&&(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-300",children:"Mati\xe8re:"}),a.jsx("span",{className:"text-white",children:t.features.material})]}),t.features.care&&(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-300",children:"Entretien:"}),a.jsx("span",{className:"text-white",children:t.features.care})]}),t.features.origin&&(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-dark-300",children:"Origine:"}),a.jsx("span",{className:"text-white",children:t.features.origin})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 pt-6 border-t border-dark-800",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(c.Z,{className:"mx-auto mb-2 text-white",size:24}),a.jsx("p",{className:"text-sm text-dark-300",children:"Livraison gratuite"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(d.Z,{className:"mx-auto mb-2 text-white",size:24}),a.jsx("p",{className:"text-sm text-dark-300",children:"Garantie qualit\xe9"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(x.Z,{className:"mx-auto mb-2 text-white",size:24}),a.jsx("p",{className:"text-sm text-dark-300",children:"Retours faciles"})]})]})]})]})})}),a.jsx(u.Z,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-dark-950",children:[a.jsx(h.Z,{}),a.jsx("main",{className:"pt-16",children:(0,a.jsxs)("div",{className:"container-custom section-padding py-12 text-center",children:[a.jsx("div",{className:"w-24 h-24 bg-dark-800 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(n.Z,{size:48,className:"text-dark-400"})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Produit non trouv\xe9"}),a.jsx("p",{className:"text-dark-300 mb-6",children:"Le produit que vous recherchez n'existe pas ou a \xe9t\xe9 supprim\xe9."}),a.jsx("a",{href:"/catalogue",className:"btn-primary",children:"Retour au catalogue"})]})}),a.jsx(u.Z,{})]})}},8656:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>o});var a=t(5153);let r=(0,a.createProxy)(String.raw`C:\Users\nazim\Desktop\aldjaberqamis\aldjaberqamis-frontend\app\produit\[id]\page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,o=n}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[980,357,626,752,162,529,205,739,245,659,990],()=>__webpack_exec__(3799));module.exports=t})();