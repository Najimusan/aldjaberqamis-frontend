(()=>{var e={};e.id=64,e.ids=[64],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7807:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>x,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=a(7096),r=a(6132),l=a(7284),i=a.n(l),o=a(2564),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);a.d(t,n);let c=["",{children:["admin",{children:["produits",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,4422)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\produits\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,2458)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,3304)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\produits\\page.tsx"],x="/admin/produits/page",u={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/produits/page",pathname:"/admin/produits",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4720:(e,t,a)=>{Promise.resolve().then(a.bind(a,4770))},4770:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>page});var s=a(784),r=a(9885),l=a(7114),i=a(4571),o=a(9803),n=a(7004),c=a(2385),d=a(9518),x=a(8626),u=a(9494),m=a(6303),h=a(569),p=a(6315),g=a(2032),f=a(6206),b=a(1831),y=a(345);let admin_MultipleImageUpload=({selectedImages:e,setSelectedImages:t,imagePreview:a,setImagePreview:l,maxImages:o=5,maxSizeInMB:n=5,acceptedTypes:c=["image/jpeg","image/jpg","image/png","image/webp"]})=>{let[d,x]=(0,r.useState)(!1),[u,m]=(0,r.useState)(!1),validateFile=e=>c.includes(e.type)?!(e.size>1048576*n)||(y.default.error(`Fichier trop volumineux. Taille max: ${n}MB`),!1):(y.default.error(`Type de fichier non support\xe9: ${e.type}`),!1),j=(0,r.useCallback)(s=>{if(!s)return;let r=[],i=[];if(e.length+s.length>o){y.default.error(`Maximum ${o} images autoris\xe9es`);return}Array.from(s).forEach(e=>{if(validateFile(e)){r.push(e);let t=URL.createObjectURL(e);i.push(t)}}),r.length>0&&(t([...e,...r]),l([...a,...i]),y.default.success(`${r.length} image(s) ajout\xe9e(s)`))},[e,a,o,n,c]),v=(0,r.useCallback)(e=>{e.preventDefault(),x(!0)},[]),w=(0,r.useCallback)(e=>{e.preventDefault(),x(!1)},[]),N=(0,r.useCallback)(e=>{e.preventDefault(),x(!1),j(e.dataTransfer.files)},[j]),removeImage=s=>{let r=e.filter((e,t)=>t!==s),i=a.filter((e,t)=>t!==s);URL.revokeObjectURL(a[s]),t(r),l(i),y.default.success("Image supprim\xe9e")};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(i.E.div,{className:`
          relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300
          ${d?"border-blue-400 bg-blue-50/10":"border-gray-600 hover:border-gray-500"}
          ${e.length>=o?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,onDragOver:v,onDragLeave:w,onDrop:N,onClick:()=>{e.length<o&&document.getElementById("file-input")?.click()},whileHover:{scale:e.length>=o?1:1.02},whileTap:{scale:e.length>=o?1:.98},children:[s.jsx("input",{id:"file-input",type:"file",multiple:!0,accept:c.join(","),onChange:e=>j(e.target.files),className:"hidden",disabled:e.length>=o}),(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[s.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center",children:s.jsx(p.Z,{className:"w-8 h-8 text-gray-400"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:e.length>=o?"Maximum atteint":"Glissez vos images ici"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"ou cliquez pour s\xe9lectionner des fichiers"}),(0,s.jsxs)("p",{className:"text-gray-500 text-xs mt-2",children:[e.length,"/",o," images • Max ",n,"MB par image"]})]}),e.length>0&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex items-center justify-center space-x-2 text-green-400",children:[s.jsx(g.Z,{className:"w-5 h-5"}),(0,s.jsxs)("span",{className:"text-sm font-medium",children:[e.length," image(s) s\xe9lectionn\xe9e(s)"]})]})]})]}),s.jsx(h.M,{children:a.length>0&&s.jsx(i.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.map((t,a)=>(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative group",children:[(0,s.jsxs)("div",{className:"aspect-square bg-gray-800 rounded-lg overflow-hidden border border-gray-700",children:[s.jsx("img",{src:t,alt:`Preview ${a+1}`,className:"w-full h-full object-cover"}),s.jsx(i.E.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>removeImage(a),className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors",children:s.jsx(f.Z,{className:"w-4 h-4"})})})]}),(0,s.jsxs)("div",{className:"mt-2 flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-gray-400 truncate",children:e[a]?.name||`Image ${a+1}`}),(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-green-400",children:[s.jsx(g.Z,{className:"w-3 h-3"}),s.jsx("span",{children:"Pr\xeat"})]})]})]},a))})}),s.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex items-start space-x-3",children:[s.jsx(b.Z,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),(0,s.jsxs)("div",{className:"text-sm text-gray-300",children:[s.jsx("p",{className:"font-medium mb-2",children:"Formats accept\xe9s :"}),(0,s.jsxs)("ul",{className:"space-y-1 text-gray-400",children:[s.jsx("li",{children:"• JPG, JPEG, PNG, WebP"}),(0,s.jsxs)("li",{children:["• Taille maximale : ",n,"MB par image"]}),(0,s.jsxs)("li",{children:["• Maximum : ",o," images par produit"]}),s.jsx("li",{children:"• R\xe9solution recommand\xe9e : 800x800px minimum"})]})]})]})})]})};var j=a(6954),v=a(1910),w=a(1922),N=a(2451),k=a.n(N);let admin_ProductImageGallery=({images:e,productName:t,className:a=""})=>{let[l,o]=(0,r.useState)(null),[n,c]=(0,r.useState)(0);if(!e||0===e.length)return s.jsx("div",{className:`bg-gray-800 rounded-lg flex items-center justify-center ${a}`,children:(0,s.jsxs)("div",{className:"text-center text-gray-400",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx(j.Z,{className:"w-8 h-8"})}),s.jsx("p",{className:"text-sm",children:"Aucune image disponible"})]})});let openModal=e=>{o(e),c(e)},closeModal=()=>{o(null)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:`space-y-4 ${a}`,children:[s.jsx("div",{className:"relative group",children:(0,s.jsxs)(i.E.div,{whileHover:{scale:1.02},className:"relative aspect-square bg-gray-800 rounded-lg overflow-hidden cursor-pointer",onClick:()=>openModal(0),children:[s.jsx(k(),{src:e[0],alt:t,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-300"}),s.jsx(i.E.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsx(j.Z,{className:"w-8 h-8 text-white"})}),e.length>1&&(0,s.jsxs)("div",{className:"absolute top-3 right-3 bg-black/70 text-white text-xs px-2 py-1 rounded-full",children:["+",e.length-1]})]})}),e.length>1&&s.jsx("div",{className:"grid grid-cols-4 gap-2",children:e.slice(1,5).map((a,r)=>(0,s.jsxs)(i.E.div,{whileHover:{scale:1.05},className:"relative aspect-square bg-gray-800 rounded-lg overflow-hidden cursor-pointer",onClick:()=>openModal(r+1),children:[s.jsx(k(),{src:a,alt:`${t} ${r+2}`,fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300"}),3===r&&e.length>5&&s.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:(0,s.jsxs)("span",{className:"text-white text-xs font-medium",children:["+",e.length-5]})})]},r+1))})]}),s.jsx(h.M,{children:null!==l&&s.jsx(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:closeModal,children:(0,s.jsxs)(i.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-4xl max-h-full",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:closeModal,className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:s.jsx(f.Z,{className:"w-8 h-8"})}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx(k(),{src:e[n],alt:`${t} ${n+1}`,width:800,height:600,className:"max-w-full max-h-[80vh] object-contain rounded-lg"}),e.length>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>{c(t=>(t-1+e.length)%e.length)},className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:s.jsx(v.Z,{className:"w-6 h-6"})}),s.jsx("button",{onClick:()=>{c(t=>(t+1)%e.length)},className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/70 transition-colors",children:s.jsx(w.Z,{className:"w-6 h-6"})})]})]}),e.length>1&&s.jsx("div",{className:"text-center mt-4 text-white",children:(0,s.jsxs)("span",{className:"text-sm",children:[n+1," / ",e.length]})}),e.length>1&&s.jsx("div",{className:"flex justify-center space-x-2 mt-4",children:e.map((e,a)=>s.jsx("button",{onClick:()=>c(a),className:`w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${a===n?"border-white":"border-transparent hover:border-gray-400"}`,children:s.jsx(k(),{src:e,alt:`${t} ${a+1}`,width:64,height:64,className:"w-full h-full object-cover"})},a))})]})})})]})},cleanColors=e=>Array.isArray(e)?e.map(e=>"string"==typeof e?{name:e,hex:"#000000"}:e&&"object"==typeof e&&e.name&&e.hex?{name:String(e.name),hex:String(e.hex)}:{name:"Couleur inconnue",hex:"#000000"}):[],page=()=>{let[e,t]=(0,r.useState)([]),[a,h]=(0,r.useState)(!0),[p,g]=(0,r.useState)(""),[f,b]=(0,r.useState)(""),[j,v]=(0,r.useState)(1),[w,N]=(0,r.useState)(1),[k,C]=(0,r.useState)(null),[P,E]=(0,r.useState)(!1),[q,S]=(0,r.useState)(null),[_,M]=(0,r.useState)([]),[$,z]=(0,r.useState)([]),[A,T]=(0,r.useState)(!1),I=(0,l.useRouter)(),[D,L]=(0,r.useState)({name:"",description:"",price:0,category:"qamis",sizes:["M","L","XL"],colors:[],stock:0,features:{material:"",care:"",origin:"Alg\xe9rie"},tags:[]}),F=[{value:"qamis",label:"Qamis"},{value:"hidjab",label:"Hidjab"},{value:"parfum",label:"Parfum"},{value:"pantalon",label:"Pantalon"},{value:"jabador",label:"Jabador"},{value:"accessoires",label:"Accessoires"}];(0,r.useEffect)(()=>{let e=localStorage.getItem("adminToken");if(!e){I.push("/admin/login");return}fetch("http://localhost:5000/api/auth/verify",{headers:{Authorization:`Bearer ${e}`}}).then(e=>e.json()).then(t=>{if(!["super_admin","admin"].includes(t.data.user.role)){I.push("/admin/dashboard");return}C(e)}).catch(()=>{localStorage.removeItem("adminToken"),I.push("/admin/login")})},[I]),(0,r.useEffect)(()=>{k&&fetchProducts()},[k,p,f,j]);let fetchProducts=async()=>{if(k)try{h(!0);let e=new URLSearchParams({page:j.toString(),limit:"10"});p&&e.append("search",p),f&&e.append("category",f);let a=await fetch(`http://localhost:5000/api/products?${e}`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(a.ok){let e=await a.json(),s=(e.data||[]).map(e=>({...e,colors:cleanColors(e.colors)}));t(s),N(e.pagination?.totalPages||1)}else console.error("Erreur lors du chargement des produits"),t([])}catch(e){console.error("Erreur lors du chargement des produits:",e),t([])}finally{h(!1)}},deleteProduct=async e=>{if(k&&confirm("\xcates-vous s\xfbr de vouloir supprimer ce produit ?"))try{let t=await fetch(`http://localhost:5000/api/products/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});t.ok&&fetchProducts()}catch(e){console.error("Erreur lors de la suppression:",e)}},toggleProductStatus=async(e,t)=>{if(k)try{let a=await fetch(`http://localhost:5000/api/products/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({isActive:!t})});a.ok&&fetchProducts()}catch(e){console.error("Erreur lors du changement de statut:",e)}},formatPrice=e=>new Intl.NumberFormat("fr-DZ",{style:"currency",currency:"DZD"}).format(e),getCategoryLabel=e=>{let t=F.find(t=>t.value===e);return t?.label||e},handleColorChange=e=>{L(t=>({...t,colors:t.colors.some(t=>t.hex===e.hex)?t.colors.filter(t=>t.hex!==e.hex):[...t.colors,e]}))},removeColor=e=>{L(t=>({...t,colors:t.colors.filter(t=>t.hex!==e)}))},uploadImages=async e=>{if(0===e.length)return[];T(!0);try{let t=new FormData;e.forEach(e=>{t.append("images",e)});let a=await fetch("http://localhost:5000/api/upload/images",{method:"POST",headers:{Authorization:`Bearer ${k}`},body:t});if(a.ok){let e=await a.json();return y.default.success(`${e.data.images.length} image(s) upload\xe9e(s) avec succ\xe8s`),e.data.images}throw Error("Erreur lors de l'upload des images")}catch(e){return console.error("Erreur upload:",e),y.default.error("Erreur lors de l'upload des images"),[]}finally{T(!1)}},clearImageSelection=()=>{$.forEach(e=>URL.revokeObjectURL(e)),M([]),z([])},handleCreateProduct=async e=>{if(e.preventDefault(),k)try{let e=[];e=_.length>0?await uploadImages(_):["https://via.placeholder.com/400x400/ffffff/000000?text="+encodeURIComponent(D.name)];let t=await fetch("http://localhost:5000/api/products",{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({...D,images:e})});if(t.ok)E(!1),L({name:"",description:"",price:0,category:"qamis",sizes:["M","L","XL"],colors:[],stock:0,features:{material:"",care:"",origin:"Alg\xe9rie"},tags:[]}),clearImageSelection(),fetchProducts(),y.default.success("Produit cr\xe9\xe9 avec succ\xe8s !");else{let e=await t.json();y.default.error(e.message||"Erreur lors de la cr\xe9ation")}}catch(e){console.error("Erreur lors de la cr\xe9ation:",e),e instanceof Error?y.default.error("Erreur lors de la cr\xe9ation: "+e.message):y.default.error("Erreur lors de la cr\xe9ation: une erreur inconnue est survenue")}},handleUpdateProduct=async e=>{if(e.preventDefault(),q&&k)try{let e=q.images;_.length>0&&(e=await uploadImages(_));let t=await fetch(`http://localhost:5000/api/products/${q._id}`,{method:"PUT",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"},body:JSON.stringify({...D,images:e})});if(t.ok)S(null),L({name:"",description:"",price:0,category:"qamis",sizes:["M","L","XL"],colors:[],stock:0,features:{material:"",care:"",origin:"Alg\xe9rie"},tags:[]}),fetchProducts(),alert("Produit modifi\xe9 avec succ\xe8s !");else{let e=await t.json();alert(e.message||"Erreur lors de la modification")}}catch(e){console.error("Erreur lors de la modification:",e),alert("Erreur lors de la modification")}},openEditModal=e=>{S(e);let t=cleanColors(e.colors);L({name:e.name,description:e.description,price:e.price,category:e.category,sizes:e.sizes,colors:t,stock:e.stock,features:{material:e.features?.material||"",care:e.features?.care||"",origin:e.features?.origin||"Alg\xe9rie"},tags:e.tags||[]})},toggleSize=e=>{L(t=>({...t,sizes:t.sizes.includes(e)?t.sizes.filter(t=>t!==e):[...t.sizes,e]}))};return k?(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center space-x-3",children:(0,s.jsxs)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>I.push("/admin/dashboard"),className:"flex items-center space-x-2 text-gray-300 hover:text-white transition-colors",children:[s.jsx(o.Z,{className:"w-5 h-5"}),s.jsx("span",{children:"Retour au Dashboard"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[s.jsx(n.Z,{className:"w-8 h-8 text-white"}),s.jsx("h1",{className:"text-2xl font-bold text-white",children:"Gestion des Produits"})]}),(0,s.jsxs)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>E(!0),className:"flex items-center space-x-2 bg-white text-black px-4 py-2 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(c.Z,{className:"w-5 h-5"}),s.jsx("span",{children:"Nouveau Produit"})]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[s.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Rechercher un produit...",value:p,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent"})]}),(0,s.jsxs)("select",{value:f,onChange:e=>b(e.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent",children:[s.jsx("option",{value:"",children:"Toutes les cat\xe9gories"}),F.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))]})]}),s.jsx("div",{className:"bg-gray-800 rounded-lg overflow-hidden",children:a?s.jsx("div",{className:"p-8 text-center text-gray-400",children:"Chargement des produits..."}):s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-700",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Produit"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Cat\xe9gorie"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Prix"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Statut"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-700",children:e.map(e=>(0,s.jsxs)(i.E.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"hover:bg-gray-700 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-16 w-16",children:s.jsx(admin_ProductImageGallery,{images:e.images,productName:e.name,className:"h-16 w-16"})}),(0,s.jsxs)("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-white",children:e.name}),s.jsx("div",{className:"text-sm text-gray-400 truncate max-w-xs",children:e.description}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[e.images.length," image(s)"]})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-600 text-white",children:getCategoryLabel(e.category)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:formatPrice(e.price)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.stock}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("button",{onClick:()=>toggleProductStatus(e._id,e.isActive),className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${e.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:e.isActive?"Actif":"Inactif"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[s.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-blue-400 hover:text-blue-300",children:s.jsx(x.Z,{className:"w-4 h-4"})}),s.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>openEditModal(e),className:"text-green-400 hover:text-green-300",children:s.jsx(u.Z,{className:"w-4 h-4"})}),s.jsx(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>deleteProduct(e._id),className:"text-red-400 hover:text-red-300",children:s.jsx(m.Z,{className:"w-4 h-4"})})]})})]},e._id))})]})})}),w>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[s.jsx("button",{onClick:()=>v(e=>Math.max(e-1,1)),disabled:1===j,className:"px-3 py-2 bg-gray-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Pr\xe9c\xe9dent"}),(0,s.jsxs)("span",{className:"px-4 py-2 text-white",children:["Page ",j," sur ",w]}),s.jsx("button",{onClick:()=>v(e=>Math.min(e+1,w)),disabled:j===w,className:"px-3 py-2 bg-gray-700 text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-600",children:"Suivant"})]}),(P||q)&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,s.jsxs)(i.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-gray-800 p-6 rounded-lg w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:q?"Modifier le produit":"Nouveau produit"}),(0,s.jsxs)("form",{onSubmit:q?handleUpdateProduct:handleCreateProduct,children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nom du produit"}),s.jsx("input",{type:"text",value:D.name,onChange:e=>L({...D,name:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white",required:!0})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),s.jsx("textarea",{value:D.description,onChange:e=>L({...D,description:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white",rows:3,required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Prix (DZD)"}),s.jsx("input",{type:"number",value:D.price,onChange:e=>L({...D,price:Number(e.target.value)}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Stock"}),s.jsx("input",{type:"number",value:D.stock,onChange:e=>L({...D,stock:Number(e.target.value)}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white",required:!0})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Cat\xe9gorie"}),s.jsx("select",{value:D.category,onChange:e=>L({...D,category:e.target.value}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:F.map(e=>s.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tailles disponibles"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["XS","S","M","L","XL","XXL"].map(e=>s.jsx("button",{type:"button",onClick:()=>toggleSize(e),className:`px-3 py-2 rounded-lg border-2 transition-all ${D.sizes.includes(e)?"bg-white text-black border-white":"bg-gray-700 text-white border-gray-600 hover:border-gray-400"}`,children:e},e))})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Couleurs disponibles"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Couleurs pr\xe9d\xe9finies :"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[{name:"Blanc",hex:"#FFFFFF"},{name:"Noir",hex:"#000000"},{name:"Beige",hex:"#F5F5DC"},{name:"Marron",hex:"#8B4513"},{name:"Gris",hex:"#808080"},{name:"Bleu",hex:"#0000FF"},{name:"Vert",hex:"#008000"},{name:"Rouge",hex:"#FF0000"}].map(e=>(0,s.jsxs)("button",{type:"button",onClick:()=>handleColorChange(e),className:`flex items-center gap-2 px-3 py-2 rounded-lg border-2 transition-all ${D.colors.some(t=>t.hex===e.hex)?"bg-white text-black border-white":"bg-gray-700 text-white border-gray-600 hover:border-gray-400"}`,children:[s.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:e.hex}}),e.name]},e.hex))})]}),D.colors.length>0&&(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Couleurs s\xe9lectionn\xe9es :"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:D.colors.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border border-white",style:{backgroundColor:e?.hex||"#000000"}}),e?.name||"Couleur inconnue",s.jsx("button",{type:"button",onClick:()=>removeColor(e?.hex||""),className:"text-red-300 hover:text-red-100",children:"\xd7"})]},e?.hex||t))})]})]})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Images du produit"}),s.jsx(admin_MultipleImageUpload,{selectedImages:_,setSelectedImages:M,imagePreview:$,setImagePreview:z,maxImages:5,maxSizeInMB:5,acceptedTypes:["image/jpeg","image/jpg","image/png","image/webp"]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Mat\xe9riau"}),s.jsx("input",{type:"text",value:D.features.material,onChange:e=>L({...D,features:{...D.features,material:e.target.value}}),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[s.jsx("button",{type:"button",onClick:()=>{E(!1),S(null),L({name:"",description:"",price:0,category:"qamis",sizes:["M","L","XL"],colors:[],stock:0,features:{material:"",care:"",origin:"Alg\xe9rie"},tags:[]})},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500",children:"Annuler"}),s.jsx("button",{type:"submit",disabled:A,className:`px-4 py-2 rounded-lg transition-all ${A?"bg-gray-500 text-gray-300 cursor-not-allowed":"bg-white text-black hover:bg-gray-200"}`,children:A?(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Upload en cours..."})]}):q?"Modifier":"Cr\xe9er"})]})]})]})})]}):null}},4422:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>i,__esModule:()=>l,default:()=>n});var s=a(5153);let r=(0,s.createProxy)(String.raw`C:\Users\nazim\Desktop\aldjaberqamis\aldjaberqamis-frontend\app\admin\produits\page.tsx`),{__esModule:l,$$typeof:i}=r,o=r.default,n=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[980,357,626,752,684,205,984,245,167],()=>__webpack_exec__(7807));module.exports=a})();