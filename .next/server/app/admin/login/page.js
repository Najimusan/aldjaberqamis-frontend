(()=>{var e={};e.id=920,e.ids=[920],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1787:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var a=s(7096),r=s(6132),n=s(7284),i=s.n(n),o=s(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8379)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\login\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5645)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\login\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2458)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,3304)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\login\\page.tsx"],u="/admin/login/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6935:(e,t,s)=>{Promise.resolve().then(s.bind(s,9515))},5303:()=>{},9515:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var a=s(784),r=s(9885),n=s.n(r),i=s(4571),o=s(7114),l=s(4901),d=s(3680),c=s(3294),u=s(3250),m=s(8626);let __WEBPACK_DEFAULT_EXPORT__=()=>{let e=(0,o.useRouter)(),[t,s]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[h,g]=(0,r.useState)({username:"",password:""}),[b,f]=(0,r.useState)({});n().useEffect(()=>{let t=localStorage.getItem("adminToken");t&&e.push("/admin/dashboard")},[e]);let handleInputChange=e=>{let{name:t,value:s}=e.target;g(e=>({...e,[t]:s})),b[t]&&f(e=>({...e,[t]:void 0}))},validateForm=()=>{let e={};return h.username||(e.username="Le nom d'utilisateur est requis"),h.password?h.password.length<6&&(e.password="Le mot de passe doit contenir au moins 6 caract\xe8res"):e.password="Le mot de passe est requis",f(e),0===Object.keys(e).length},handleSubmit=async t=>{if(t.preventDefault(),validateForm()){x(!0);try{let t=await fetch("http://localhost:5000/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)});if(t.ok){let s=await t.json();localStorage.setItem("adminToken",s.data.token),localStorage.setItem("adminUser",JSON.stringify(s.data.user)),e.push("/admin/dashboard")}else{let e=await t.json();f({username:e.message||"Nom d'utilisateur ou mot de passe incorrect"})}}catch(e){console.error("Erreur de connexion:",e),f({username:"Erreur de connexion"})}finally{x(!1)}}};return a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center p-4",children:a.jsx("div",{className:"w-full max-w-md",children:(0,a.jsxs)(i.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-gray-900 rounded-2xl shadow-2xl border border-gray-800 p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[a.jsx(i.E.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.2},className:"w-16 h-16 bg-white rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(l.Z,{className:"text-black",size:32})}),a.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Administration"}),a.jsx("p",{className:"text-gray-300",children:"Connectez-vous pour acc\xe9der au tableau de bord"})]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-white",children:"Nom d'utilisateur"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",name:"username",value:h.username,onChange:handleInputChange,className:"w-full px-4 py-3 pl-10 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent transition-all duration-300",placeholder:"admin"})]}),b.username&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.username})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-white",children:"Mot de passe"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:t?"text":"password",name:"password",value:h.password,onChange:handleInputChange,className:"w-full px-4 py-3 pl-10 pr-10 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-white focus:border-transparent transition-all duration-300",placeholder:"Votre mot de passe"}),a.jsx("button",{type:"button",onClick:()=>s(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors duration-300",children:t?a.jsx(u.Z,{size:20}):a.jsx(m.Z,{size:20})})]}),b.password&&a.jsx("p",{className:"text-red-400 text-sm mt-1",children:b.password})]}),a.jsx(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:p,className:"w-full bg-white text-black px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:bg-gray-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-white focus:ring-offset-2 focus:ring-offset-black disabled:opacity-50 disabled:cursor-not-allowed text-lg",children:p?"Connexion...":"Se connecter"})]}),(0,a.jsxs)("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:"Acc\xe8s r\xe9serv\xe9 aux administrateurs"}),a.jsx("a",{href:"/",className:"text-white hover:text-gray-300 transition-colors duration-300 text-sm mt-2 inline-block",children:"← Retour au site"})]})]})})})}},5645:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>AdminLoginLayout});var a=s(4656);function AdminLoginLayout({children:e}){return a.jsx("div",{className:"min-h-screen bg-black",children:e})}},8379:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var a=s(5153);let r=(0,a.createProxy)(String.raw`C:\Users\nazim\Desktop\aldjaberqamis\aldjaberqamis-frontend\app\admin\login\page.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default,l=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[980,357,684,978,245,167],()=>__webpack_exec__(1787));module.exports=s})();