(()=>{var e={};e.id=3,e.ids=[3],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7168:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var s=r(482),a=r(9108),i=r(2563),n=r.n(i),l=r(8300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9481)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6294)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6833)),"C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\nazim\\Desktop\\aldjaberqamis\\aldjaberqamis-frontend\\app\\admin\\page.tsx"],u="/admin/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7353:(e,t,r)=>{Promise.resolve().then(r.bind(r,386))},577:(e,t,r)=>{Promise.resolve().then(r.bind(r,199))},386:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5344),a=r(3729),i=r(2254),n=r(783),l=r.n(n),o=r(7916);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r(9224).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var c=r(1917),u=r(2401),m=r(9895),x=r(4513),p=r(8200),h=r(8120),g=r(4669);let f=({children:e})=>{let[t,r]=(0,a.useState)(!1),[n,f]=(0,a.useState)(!0),[y,b]=(0,a.useState)(!1),j=(0,i.useRouter)(),v=(0,i.usePathname)(),[k,q]=(0,a.useState)(""),[w,N]=(0,a.useState)(!0),_=[{name:"Tableau de bord",href:"/admin/dashboard",icon:d,roles:["super_admin","admin","manager"]},{name:"Produits",href:"/admin/produits",icon:c.Z,roles:["super_admin","admin"]},{name:"Commandes",href:"/admin/commandes",icon:u.Z,roles:["super_admin","admin","manager"]},{name:"Utilisateurs",href:"/admin/utilisateurs",icon:m.Z,roles:["super_admin"]}];return((0,a.useEffect)(()=>{if("/admin/login"===v){f(!1);return}(async()=>{let e=localStorage.getItem("adminToken");if(!e){j.push("/admin/login");return}try{let t=await fetch("http://localhost:5000/api/auth/verify",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){let e=await t.json();console.log("Layout - Donn\xe9es utilisateur:",e),q(e.data.user.role),r(!0)}else localStorage.removeItem("adminToken"),j.push("/admin/login")}catch(e){localStorage.removeItem("adminToken"),j.push("/admin/login")}finally{f(!1),N(!1)}})()},[j,v]),"/admin/login"===v)?s.jsx(s.Fragment,{children:e}):n?s.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:s.jsx("div",{className:"text-white text-xl",children:"Chargement..."})}):t?(0,s.jsxs)("div",{className:"min-h-screen bg-black",children:[s.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-50",children:s.jsx(o.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>b(!y),className:"p-2 bg-gray-800 text-white rounded-lg",children:y?s.jsx(x.Z,{className:"w-6 h-6"}):s.jsx(p.Z,{className:"w-6 h-6"})})}),s.jsx("div",{className:`fixed inset-y-0 left-0 z-40 w-64 bg-gray-900 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${y?"translate-x-0":"-translate-x-full"}`,children:(0,s.jsxs)("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center justify-center h-16 px-4 border-b border-gray-700",children:s.jsx("h1",{className:"text-xl font-bold text-white",children:"Al Djaber Qamis"})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:w?s.jsx("div",{className:"text-center text-gray-400",children:"Chargement..."}):_.filter(e=>!k||e.roles.includes(k)).map(e=>{let t=v===e.href;return(0,s.jsxs)(l(),{href:e.href,onClick:()=>{console.log("Navigation vers:",e.href),b(!1)},className:`flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${t?"bg-white text-black":"text-gray-300 hover:bg-gray-700 hover:text-white"}`,children:[s.jsx(e.icon,{className:"w-5 h-5 mr-3"}),e.name]},e.name)})}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:(0,s.jsxs)(o.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{localStorage.removeItem("adminToken"),j.push("/admin/login")},className:"flex items-center w-full px-4 py-3 text-sm font-medium text-red-400 hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(h.Z,{className:"w-5 h-5 mr-3"}),"D\xe9connexion"]})})]})}),y&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 lg:hidden",onClick:()=>b(!1)}),s.jsx("div",{className:"lg:ml-64",children:s.jsx("main",{className:"min-h-screen",children:e})}),s.jsx(g.Toaster,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",border:"1px solid #374151"}}})]}):null}},199:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var s=r(5344),a=r(3729),i=r(2254);let n=()=>{let e=(0,i.useRouter)();return(0,a.useEffect)(()=>{e.push("/admin/dashboard")},[e]),s.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-white",children:"Redirection..."})]})})}},8120:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},1917:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},9895:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,r(9224).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2254:(e,t,r)=>{e.exports=r(4767)},6294:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,r(6843).createProxy)(String.raw`C:\Users\nazim\Desktop\aldjaberqamis\aldjaberqamis-frontend\app\admin\layout.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default},9481:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let s=(0,r(6843).createProxy)(String.raw`C:\Users\nazim\Desktop\aldjaberqamis\aldjaberqamis-frontend\app\admin\page.tsx`),{__esModule:a,$$typeof:i}=s,n=s.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[992,544,214],()=>r(7168));module.exports=s})();