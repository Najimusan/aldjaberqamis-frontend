"use strict";exports.id=828,exports.ids=[828],exports.modules={828:(e,t,s)=>{s.d(t,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(784),a=s(9885),l=s(4571),i=s(1440),o=s.n(i),n=s(2451),d=s.n(n),c=s(8626),x=s(5894),u=s(8699),h=s(1251),p=s(5990),m=s(9576),b=s(345);let __WEBPACK_DEFAULT_EXPORT__=({product:e})=>{let[t,s]=(0,a.useState)(!1),[i,n]=(0,a.useState)(e.sizes[0]||""),[k,g]=(0,a.useState)(!1),f=Array.isArray(e.colors)&&e.colors.length>0?"string"==typeof e.colors[0]?String(e.colors[0]):e.colors[0].name||e.colors[0].hex||"":"",[j,v]=(0,a.useState)(f),{addToCart:w}=(0,h.useCart)();return r.jsx(l.E.div,{whileHover:{y:-5},transition:{duration:.3},className:"group bg-dark-800 rounded-xl overflow-hidden border border-dark-700 hover:border-dark-600 transition-all duration-300",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:(0,r.jsxs)(o(),{href:`/produit/${e._id}`,children:[(0,r.jsxs)("div",{className:"relative h-64 bg-dark-700 overflow-hidden",children:[e.images[0]&&!k?r.jsx(d(),{src:(0,m.Jn)(e.images[0]),alt:e.name,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500",onError:()=>g(!0),unoptimized:!0}):r.jsx(p.Z,{width:400,height:256,className:"w-full h-full",text:e.name}),r.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:t?1:0},transition:{duration:.3},className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:r.jsx(l.E.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"p-3 bg-white/20 backdrop-blur-sm rounded-full text-white hover:bg-white/30 transition-all duration-300",children:r.jsx(c.Z,{size:20})})}),e.stock<=5&&e.stock>0&&(0,r.jsxs)("div",{className:"absolute top-3 left-3 bg-yellow-500 text-dark-950 text-xs font-bold px-2 py-1 rounded-full",children:["Plus que ",e.stock," en stock"]}),0===e.stock&&r.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold",children:"Rupture de stock"})})]}),(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("p",{className:"text-dark-400 text-sm font-medium mb-2 capitalize",children:e.category}),r.jsx("h3",{className:"text-white font-semibold text-lg mb-2 line-clamp-2 group-hover:text-dark-300 transition-colors duration-300",children:e.name}),r.jsx("p",{className:"text-dark-400 text-sm mb-4 line-clamp-2",children:e.description}),t&&e.sizes.length>0&&(0,r.jsxs)(l.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"mb-4 space-y-3",children:[e.sizes.length>0&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-dark-300 text-sm mb-2",children:"Taille:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.sizes.map(e=>r.jsx("button",{onClick:t=>{t.preventDefault(),t.stopPropagation(),n(e)},className:`px-3 py-1 text-xs rounded-full border transition-all duration-300 ${i===e?"bg-white text-dark-950 border-white":"bg-transparent text-dark-300 border-dark-600 hover:border-dark-400"}`,children:e},e))})]}),e.colors.length>0&&(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-dark-300 text-sm mb-2",children:"Couleur:"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:e.colors.map(e=>{let t="string"==typeof e?e:e?.name||e?.hex||"",s="string"==typeof e?void 0:e?.hex,a=j===t||!!s&&j===s;return r.jsx("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),v(t||s||"")},className:`px-3 py-1 text-xs rounded-full border transition-all duration-300 ${a?"bg-white text-dark-950 border-white":"bg-transparent text-dark-300 border-dark-600 hover:border-dark-400"}`,title:t,children:(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[s?r.jsx("span",{"aria-hidden":!0,className:"inline-block w-3 h-3 rounded-full border border-dark-600",style:{backgroundColor:s}}):null,t]})},s||t)})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-white font-bold text-xl",children:(0,u.T4)(e.price)}),e.stock>0&&(0,r.jsxs)("p",{className:"text-dark-400 text-sm",children:[e.stock," en stock"]})]}),r.jsx(l.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:t=>{if(t.preventDefault(),t.stopPropagation(),!i||!j){b.default.error("Veuillez s\xe9lectionner une taille et une couleur");return}w(e,1,i,j),b.default.success("Produit ajout\xe9 au panier")},disabled:0===e.stock||!i||!j,className:"p-3 bg-white text-dark-950 rounded-lg hover:bg-dark-200 disabled:bg-dark-700 disabled:text-dark-400 disabled:cursor-not-allowed transition-all duration-300",children:r.jsx(x.Z,{size:20})})]})]})]})})}}};